# 字段属性之公式

给字段增加公式之后，填写审批单的时候，就无需录入此字段的值，而是由系统根据公式得到相应的值。

常见的公式包括：

- 取一个字段的值：使用“{”和“}” (注意都是半角)将字段名扩起来，如：{请假天数}
- 基于数值字段的函数：

  加：{字段名1}+{字段名2}

  减：{字段名1}-{字段名2}

  乘：{单价}*{数量}

  除：{总金额}/{数量}
  
- 基于表格（子表）中的数值字段的函数：

  合计:   sum({费用})

  平均值：average({费用})

  计数：  count({物品})

  最大值：max({费用})

  最小值：min({费用})

- 统计多选项中有几项被选中了：length({交通工具})
- 基于申请人的系统变量：包括姓名、角色、部门等
- 申请人的姓名：{applicant.name} 

- 基于姓名表单字段的系统变量：包括姓名、角色、部门等

  “报销人”的所在部门（全路径）： {报销人}.organization.fullname 

  “报销人”的所在部门（最底层部门名）： {报销人}.organization.name 

  “报销人”的角色名： {报销人}.roles

  “报销人”的姓名： {报销人}.name

   申请人的所在部门（全路径）： {applicant.organization.fullname}

   申请人的所在部门（最底层部门名）： {applicant.organization.name}

   申请人的角色名： {applicant.roles} 
